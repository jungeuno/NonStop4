<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="../static/assets/img/apple-icon.png"
    />
    <link rel="icon" type="image/png" href="../static/assets/img/favicon.png" />
    <title>Baepo</title>
    <!--     Fonts and icons     -->
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800"
      rel="stylesheet"
    />
    <link
      href="https://use.fontawesome.com/releases/v5.0.6/css/all.css"
      rel="stylesheet"
    />
    <!-- Nucleo Icons -->
    <link href="../static/assets/css/nucleo-icons.css" rel="stylesheet" />
    <!-- CSS Files -->
    <link
      href="../static/assets/css/black-dashboard.css?v=1.0.0"
      rel="stylesheet"
    />
    <link href="../static/assets/scss/BsMultiSelect.bs4.css" rel="stylesheet" />
    <link href="../static/assets/css/BsMultiSelect.bs4.css" rel="stylesheet" />
  </head>

  <body class="">
    <div class="wrapper">
      <div class="sidebar">
        <div class="sidebar-wrapper">
          <div class="logo">
            <a href="javascript:void(0)" class="simple-text logo-normal">
              My Services
            </a>
          </div>
          <ul class="nav">
            <li>
              <a href="javascript:;" id="deployButton">
                <i class="tim-icons icon-simple-add"></i>
                <p class="font-weight-bold">새 서비스 배포하기</p>
              </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="main-panel">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-absolute navbar-transparent">
          <div class="container-fluid">
            <div class="navbar-wrapper">
              <div class="navbar-toggle d-inline">
                <button type="button" class="navbar-toggler">
                  <span class="navbar-toggler-bar bar1"></span>
                  <span class="navbar-toggler-bar bar2"></span>
                  <span class="navbar-toggler-bar bar3"></span>
                </button>
              </div>
              <a class="navbar-brand" id="mylogo" href="./containerList.html">BaePo</a>
            </div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-bar navbar-kebab"></span>
              <span class="navbar-toggler-bar navbar-kebab"></span>
              <span class="navbar-toggler-bar navbar-kebab"></span>
            </button>
            <div class="collapse navbar-collapse" id="navigation">
              <ul class="navbar-nav ml-auto">
                <li class="dropdown nav-item">
                  <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                    <p  id="userEmail" hidden>{{useremail}}</p>
                    <div class="photo">
                      <img src="../static/assets/img/user.png" alt="Profile Photo">
                    </div>
                    <b class="caret d-none d-lg-block d-xl-block"></b>
                  </a>
                  <ul class="dropdown-menu dropdown-navbar">
                    <li class="nav-link"><a href="./mypage.html" class="nav-item dropdown-item">Profile</a></li>
                    <!-- <li class="nav-link"><a href="#" class="nav-item dropdown-item">Guide</a></li> -->
                    <li class="dropdown-divider"></li>
                    <li class="nav-link"><a href="javascript:void(0)" id="logoutButton" class="nav-item dropdown-item">Log out</a></li>
                  </ul>
                </li>
                <li class="separator d-lg-none"></li>
              </ul>
            </div>
          </div>
        </nav>
        <!-- End Navbar -->

        <!-- 파일 업로드 요구사항 모달창 구현  -->
        <div
        class="modal fade"
        id="fileUploadRuleModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="fileUploadRuleModalLabel"
        aria-hidden="true"
        >
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title" id="fileUploadRuleModalLabel">
                <strong>※ 서비스 파일 업로드 시 요구사항 ※</strong>
              </h4>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
              <div class="modal-body">
                  <li>
                    서비스 이름과 서비스 파일 이름을 일치시켜 주세요.</br>
                    &nbsp&nbsp&nbsp&nbsp[예, 서비스 이름 : BaePo / 서비스 파일 이름 : BaePo.zip]
                  </li>
                  <li>
                    디렉토리 폴더명을 <strong>'frontend'</strong>, <strong>'backend'</strong>, <strong>'db'</strong>로 프론트, 백, 데이터베이스 파일들을 각각 구분해 주세요.
                  </li>
                  <li>
                    <strong>'frontend'</strong>, <strong>'backend'</strong>, <strong>'db'</strong> 각 디렉토리 안에 파일명이 '<strong>dockerfile</strong>'인 도커 파일을 위치시켜 주세요.
                  </li>  
                  <li>
                    백엔드 서비스는 <strong>5000번 포트</strong>를 사용하고, 이름은 <strong>'api'</strong>로 정의하여 사용해 주세요.
                  </li>
                  <li>
                    데이터베이스 개발 환경으로 <strong>MYSQL</strong>을 사용한 경우,
                    <p><code>
              &nbsp&nbsp MYSQL_ROOT_PASSWORD: "123456"<br/>
              &nbsp&nbsp MYSQL_DATABASE: "loginapp"<br/>
              &nbsp&nbsp MYSQL_USER: "user1"<br/>
              &nbsp&nbsp MYSQL_PASSWORD: "123456"<br/>
                    </code></p>
                    위와 같은 형식으로 작성하세요.
                    파일 이름은 <strong>'dbenv.txt'</strong>로 <strong>db</strong> 디렉토리 안에 위치시켜 주세요.
                  </li>
              </div>
            <div class="modal-footer">
              <div class="text-center text-danger font-weight-bold">위 요구사항이 지켜지지 않을 시, 서비스 배포가 불가능합니다.</div>   
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                확인
              </button>
            </div>
          </div>
        </div>
        </div>

        <!-- 입력 폼-->
        <div class="content">
          <div class="row">
            <div class="col-md-12">
              <div class="card">
                <form
                  id="editDeployForm"
                  method="UPDATE"
                  enctype="multipart/form-data"
                  action="/services"
                >
                  <div class="card-header">
                    <h3 class="card-title service-name">                      
                      배포 파일 변경하기
                    </h3>
                  </div>
                  <div class="card-body">
                    <div class="form-row">
                      <div class="form-group">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group col-12">
                        <h5 class="mt-4 my-2">
                          서비스 파일 업로드
                          <i
                            class="fas fa-info-circle text-primary ml-2"
                            style="cursor: pointer"
                            onclick="fileUploadRuleModal()"
                          ></i>
                        </h5>
                        <small id="devEnvHelp" class="form-text text-muted"
                          >프론트, 백, 데이터베이스 파일을 하나의 zip파일로
                          압축해서 올려주세요</small
                        >
                        <label for="inputUploadFile">
                          <button
                            type="button"
                            id="btnUploadFile"
                            class="btn btn-sm"
                            data-original-title="upload File"
                            onclick=""
                          >
                            <i class="tim-icons icon-upload"></i>
                            <input
                              type="file"
                              id="inputUploadFile"
                              name="uploadFile_name"
                              required
                            />
                          </button>
                        </label>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group col-12">
                        <label for="frontEnv">
                          <h5 class="mt-4 my-2">프론트엔드 개발환경</h5>
                          <small id="frontEnvHelp" class="form-text text-muted"
                            >기존에 선택한 프론트엔드 개발 환경입니다</small
                          >
                        </label>
                        <select
                          id="frontEnv"
                          class="form-control"
                          multiple="multiple"
                          required
                          disabled
                        >
                          <option value="0">apache</option>
                          <option value="1">nginx</option>
                          <option value="2">bootstrap</option>
                          <option value="3">vue</option>
                          <option value="4">react</option>
                        </select>
                        <label for="dbEnv">
                          <h5 class="mt-4 my-2">데이터베이스 개발환경</h5>
                          <small id="dbEnvHelp" class="form-text text-muted"
                            >기존에 선택한 데이터베이스 개발 환경입니다</small
                          >
                        </label>
                        <select
                          id="dbEnv"
                          class="form-control"
                          multiple="multiple"
                          required
                          disabled
                        >
                          <option value="7">mysql</option>
                          <option value="8">mssql</option>
                          <option value="9">mariadb</option>
                          <option value="16">mongodb</option>
                        </select>
                        <label for="backEnv">
                          <h5 class="mt-4 my-2">백엔드 개발환경</h5>
                          <small id="backEnvHelp" class="form-text text-muted"
                            >기존에 선택한 백엔드 개발 환경입니다</small
                          >
                        </label>
                        <select
                          id="backEnv"
                          class="form-control"
                          multiple="multiple"
                          required
                          disabled
                        >
                          <option value="5">django</option>
                          <option value="6">springboot</option>
                          <option value="10">kotlin</option>
                          <option value="11">python</option>
                          <option value="12">c#</option>
                          <option value="13">go</option>
                          <option value="14">rust</option>
                          <option value="15">ruby</option>
                        </select>
                      </div>
                    </div>
                  </div>

                  <div class="card-footer">
                    <div class="row">
                      <div class="col-10 text-left">
                        <button
                          id="updateButton"
                          type="button"
                          class="btn btn-fill btn-primary"
                          value="POST"
                        >
                          수정 | 업데이트
                        </button>
                      </div>
                      <div class="col-2 pr-md-4 text-right">
                        <button
                          id="deleteButton"
                          type="button"
                          class="btn btn-fill btn-primary"
                          value="DELETE"
                        >
                          <i class="tim-icons icon-trash-simple"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--   Core JS Files   -->
    <script src="../static/assets/js/core/jquery.min.js"></script>
    <script src="../static/assets/js/core/popper.min.js"></script>
    <script src="../static/assets/js/core/bootstrap.min.js"></script>
    <script src="../static/assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!--bs multi select plugin-->
    <script
      src="../static/assets/js/plugins/BsMultiSelect.bs4.min.js"
      type="text/javascript"
    ></script>
    <script
      src="../static/assets/js/editDeploy.js"
      type="text/javascript"
    ></script>
    <script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>
    <script>
      window.TrackJS &&
        TrackJS.install({
          token: "ee6fab19c5a04ac1a32a645abde4613a",
          application: "black-dashboard-free",
        });
    </script>
  </body>
</html>
